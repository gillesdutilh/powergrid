<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>powergrid • powergrid</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="powergrid">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">powergrid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/powergrid.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SwissClinicalTrialOrganisation/powergrid/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>powergrid</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SwissClinicalTrialOrganisation/powergrid/blob/main/vignettes/powergrid.Rmd" class="external-link"><code>vignettes/powergrid.Rmd</code></a></small>
      <div class="d-none name"><code>powergrid.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SwissClinicalTrialOrganisation/powergrid" class="external-link">powergrid</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction-to-the-typical-use-of-powergrid">Introduction to the typical use of powergrid<a class="anchor" aria-label="anchor" href="#introduction-to-the-typical-use-of-powergrid"></a>
</h2>
<p>The powergrid package offers a number of functions that facilitate
exploring the statistical power of a study. In a typical use case (which
I also show in this vignette) you want to explore the relation between
statistical power, sample size, the effect size of interest and the
assumed variability of the data. The interrelation of these parameters
is defined by the assumed distributional form of your data, and the
statistical test that you aim to perform.</p>
<p>This package does not dictate any of the above ingredients for you.
It just allows you to evaluate a function at a grid of parameters and
visualize the interrelation in plots that are fine-tuned for analyses of
power and sample size. You may, however use it for very different
purposes. An example close to a power analysis would be an analysis of
the precision you may expect of a study design. As a more remote
application, you can think of a coverage study for different confidence
intervals. Or an exploration for planning recruitment under various
scenarios.</p>
<div class="section level3">
<h3 id="functions-covered">Functions covered<a class="anchor" aria-label="anchor" href="#functions-covered"></a>
</h3>
<p>T his vignette covers the following functions of
<code>powergrid</code></p>
<ul>
<li>
<code>PowerGrid</code> for evaluating the power across a grid, with
and without simualtion</li>
<li>
<code>Example</code> for inspecting the relation between power and
sample size in a specific scenario</li>
<li>
<code>Powerplot</code> Graphical exploration of power under
different scenarios</li>
<li>
<code>GridPlot</code> Graphical exploration of power under even more
scenarios</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installing-the-current-version-from-github">Installing the current version from Github<a class="anchor" aria-label="anchor" href="#installing-the-current-version-from-github"></a>
</h2>
<p>To install the current version from github, evaluate the following
line of R code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"SwissClinicalTrialOrganisation/powergrid"</span>,</span>
<span>                         ref <span class="op">=</span> <span class="st">"v0.1.0"</span>, <span class="co"># the current beta</span></span>
<span>                         build_vignette <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="typical-use-case">Typical use case<a class="anchor" aria-label="anchor" href="#typical-use-case"></a>
</h2>
<p>I describe two basic use cases here. Both concern studying the
relation between power, sample size, and two further parameters. In the
first situation, a function for calculating the power is available. In
the second situation, the power needs to be found through
(re-)sampling.</p>
<div class="section level3">
<h3 id="power-for-a-t-test-on-a-normal-variable">Power for a t-test on a normal variable<a class="anchor" aria-label="anchor" href="#power-for-a-t-test-on-a-normal-variable"></a>
</h3>
<p>Assume we aim to collect data in a two-armed RCT and plan to perform
a simple t-test. In this situation, the situation concerning power can
be summarized in the following ingredients:</p>
<ol style="list-style-type: decimal">
<li>total sample size</li>
<li>effect size of interest</li>
<li>expected standard deviation in the study arms</li>
<li>the objective (planned statistical test)</li>
</ol>
<p>I use the function <code>PowerGrid</code> to evaluate the situation
sketched above. This is done as follows</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sse_pars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span> <span class="co"># a simple list</span></span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">10</span>, to <span class="op">=</span> <span class="fl">60</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="co"># sample size</span></span>
<span>  delta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0.6</span>, to <span class="op">=</span> <span class="fl">1.6</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>, <span class="co"># effect size</span></span>
<span>  sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">1.5</span>, <span class="fl">.2</span><span class="op">)</span> <span class="co"># variability</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">PowFun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">delta</span>, <span class="va">sd</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">ptt</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/power.t.test.html" class="external-link">power.t.test</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>                     delta <span class="op">=</span> <span class="va">delta</span>,</span>
<span>                     sd <span class="op">=</span> <span class="va">sd</span>,</span>
<span>                     sig.level <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">ptt</span><span class="op">$</span><span class="va">power</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">power</span> <span class="op">=</span> <span class="fu"><a href="../reference/PowerGrid.html">PowerGrid</a></span><span class="op">(</span>pars <span class="op">=</span> <span class="va">sse_pars</span>, fun <span class="op">=</span> <span class="va">PowFun</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">power</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Object of class: power_array</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Range of values: [0.08, 1] </span></span>
<span><span class="co">#&gt;  Evaluated at:</span></span>
<span><span class="co">#&gt;       n 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60</span></span>
<span><span class="co">#&gt;   delta 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5,</span></span>
<span><span class="co">#&gt;   delta 1.6</span></span>
<span><span class="co">#&gt;      sd 0.5, 0.7, 0.9, 1.1, 1.3, 1.5</span></span></code></pre></div>
<p>In the code above, the first 3 ingredients are prepared as a little
list of parameters <code>pars</code>. The third ingredient, the
objective, is prepared as a function <code>PowFun</code>. Note these are
simple base R objects. Note further, that the names of the elements in
the list <code>pars</code> match the names of the function arguments in
PowFun.</p>
<p>Once that is set, in the third part of the chunk above, PowerGrid is
called with the sse_pars and the PowFun for arguments pars and fun,
respectively. The result is an array with class
<code>power\_array</code>. You can use it as any array, but it is built
to be used in some neat functions of PowerGrid.</p>
</div>
<div class="section level3">
<h3 id="finding-n-for-a-certain-set-of-assumptions">Finding n for a certain set of assumptions<a class="anchor" aria-label="anchor" href="#finding-n-for-a-certain-set-of-assumptions"></a>
</h3>
<p>First, you may want to calculate the minimal n required to achieve,
for example, a power of 90%, for detecting a effect size of 0.8,
assuming the standard deviation in your sample will be 0.9. To find this
n, use the function <code>Example</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Example.html">Example</a></span><span class="op">(</span><span class="va">power</span>, <span class="co"># the object (power_array) I created above</span></span>
<span>        example <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="fl">.8</span>, sd <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span>, <span class="co"># at which settings do I want to</span></span>
<span>                                             <span class="co"># calculate n?</span></span>
<span>        target <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span> <span class="co"># what is my target power?</span></span>
<span><span class="co">#&gt; ================================================</span></span>
<span><span class="co">#&gt; To achieve the target of at least 0.9 assuming</span></span>
<span><span class="co">#&gt; delta = 0.8</span></span>
<span><span class="co">#&gt; sd = 0.9,</span></span>
<span><span class="co">#&gt; the minimal required n = 60</span></span>
<span><span class="co">#&gt; ------------------------------------------------</span></span>
<span><span class="co">#&gt; Description: Method "step" was used to find the</span></span>
<span><span class="co">#&gt; lowest n in the searched grid that yields a</span></span>
<span><span class="co">#&gt; target (typically power) of at least 0.9.</span></span>
<span><span class="co">#&gt; ================================================</span></span></code></pre></div>
<p>The printed result of Example should speak for itself. Note, however,
that the wording “target” in both the function argument and the printed
result may be a bit vague. ‘Why not “power”?’, you may ask. The reason
is, that there is nothing that keeps you from optimizing other things
with the functions in <code>powergrid</code>. Indeed, instead of finding
a target power, you may be looking for a target precision.</p>
<p>If you save the output of Example, this is a list containing the
relevant information in a reusable form:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sse_example</span> <span class="op">=</span> <span class="fu"><a href="../reference/Example.html">Example</a></span><span class="op">(</span><span class="va">power</span>,  example <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="fl">.8</span>, sd <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span>, target <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sse_example</span><span class="op">)</span> <span class="co"># a list</span></span>
<span><span class="co">#&gt; List of 7</span></span>
<span><span class="co">#&gt;  $ requested_example:List of 2</span></span>
<span><span class="co">#&gt;   ..$ delta: num 0.8</span></span>
<span><span class="co">#&gt;   ..$ sd   : num 0.9</span></span>
<span><span class="co">#&gt;  $ objective        : chr "achieve target or higher"</span></span>
<span><span class="co">#&gt;  $ target           : num 0.9</span></span>
<span><span class="co">#&gt;  $ required_name    : chr "n"</span></span>
<span><span class="co">#&gt;  $ required_value   : num 60</span></span>
<span><span class="co">#&gt;  $ searched         : chr "min"</span></span>
<span><span class="co">#&gt;  $ method           : chr "step"</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "power_example"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exploring-the-uncertainty-about-power">Exploring the uncertainty about power<a class="anchor" aria-label="anchor" href="#exploring-the-uncertainty-about-power"></a>
</h3>
<p>The example that was calcaulted above does not reflect the
uncertainty about my study. I set sd to .9, but I do not really know
what SD to expect. And I may want to explore how my power depends on the
effect size I want to detect. To explore the uncertainty about power in
a study design study, <code>powergrid</code> offers two plotting
functions: <code>PowerPlot</code> and <code>GridPlot</code>.</p>
<div class="section level4">
<h4 id="powerplot">PowerPlot<a class="anchor" aria-label="anchor" href="#powerplot"></a>
</h4>
<p>First, I can plot the required n for different effect sizes and a
chosen SD to achieve a certain power.</p>
<p>Below, I show how to do this when I aim to focus on the assumption
that the standard deviation equals .9. In the example below, I want to
point at the effect size that I hope to be able to show, which is 1. The
figure shows “isolines” connecting points where power is .8, .9, and
.95.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PowerPlot.html">PowerPlot</a></span><span class="op">(</span></span>
<span>  <span class="va">power</span>, <span class="co"># the power_array containing power estimates</span></span>
<span>  slicer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sd <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span>, <span class="co"># "cut out" the relevant slice from power.</span></span>
<span>  example <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># draw an arrow pointing at the situation at delta = 1</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="powergrid_files/figure-html/basic%20PowerPlot-1.png" width="600" style="display: block; margin: auto;"></p>
<p>Some things to note:</p>
<ul>
<li>You need to “slice out” one plain from your power_array. In this
case, this the slice where <code>sd = .9</code>. The slice has the form
of the figure: delta by n.</li>
<li>There is nothing that keeps you from slicing out a plain where
<code>delta = .8</code> and show how the relation between power and n
depends on the standard deviation. Or slicing out a plain where
<code>n = 50</code> (maybe that’s considered feasible for your study
project), and see how power behaves as a function of delta and sd.</li>
<li>You can add additional examples, either by increasing the the length
of the vector in the argument to example, (e.g.,
<code>example = list(delta = c(1, 1.2)))</code> or by using the higher
level plotting function <code>AddExample</code>. The latter allows you
more flexibility, like setting different colors or line types.</li>
<li>There are many options in PowerPlot and AddExample that you may want
to learn about in the help files.</li>
</ul>
</div>
<div class="section level4">
<h4 id="gridplot">GridPlot<a class="anchor" aria-label="anchor" href="#gridplot"></a>
</h4>
<p>The figure created by <code>PowerPlot</code> can only show the
interplay of two variables and power. GridPlot often offers a more
insightful picture, in particular when, as in this example, we have more
than 2 dimensions in our <code>pars</code> argument.</p>
<p>The code below shows how to plot the interplay between n, delta and
sd when the goals is the achieve 90% power.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/GridPlot.html">GridPlot</a></span><span class="op">(</span><span class="va">power</span>,</span>
<span>         target <span class="op">=</span> <span class="fl">.9</span>, <span class="co"># you need to choose one target level of power</span></span>
<span>         example <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span><span class="op">)</span> <span class="co"># defined by two parameters now.</span></span></code></pre></div>
<p><img src="powergrid_files/figure-html/GridPlot-1.png" width="600" style="display: block; margin: auto;"></p>
<p>Note that there are many options in this plot. See the help file of
<code>GridPlot</code> for more info.</p>
</div>
</div>
<div class="section level3">
<h3 id="power-evaluation-using-simulation-and-resampling">Power evaluation using simulation and resampling<a class="anchor" aria-label="anchor" href="#power-evaluation-using-simulation-and-resampling"></a>
</h3>
<p>Assume we have about the same situation as above, but we do not have
a simple solution to calculate the power: we only have a limited pilot
data set that looks as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pilot_scores</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.1</span>, <span class="fl">4.3</span>, <span class="fl">2.3</span>, <span class="fl">5.2</span>, <span class="fl">1.9</span>, <span class="fl">8.3</span>, <span class="fl">7</span>, <span class="fl">2.6</span>, <span class="fl">2.4</span>, <span class="fl">3.2</span>, <span class="fl">2.1</span>, <span class="fl">2.8</span>, <span class="fl">3.4</span><span class="op">)</span></span></code></pre></div>
<p>Since we do not really understand the distribution (it looks pretty
right-skewed), we plan to perform a Mann-Whitney U-test. We do not want
to simply simulate, but draw from our pilot sample to mimic the
variability and distributional form. We do have a clear idea about
effect size (somewhere in the range of .5 and 2). The following code my
be our approach to the exploration of power:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sse_pars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span>  delta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">2</span>, <span class="fl">.2</span><span class="op">)</span><span class="op">)</span> <span class="co"># only effect size</span></span>
<span><span class="va">PowFun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">delta</span>, <span class="va">pilot_data</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">arm_1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">pilot_data</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">arm_2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">pilot_data</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> <span class="va">delta</span></span>
<span>  <span class="va">significant</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/wilcox.test.html" class="external-link">wilcox.test</a></span><span class="op">(</span><span class="va">arm_1</span>, <span class="va">arm_2</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">.05</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">significant</span><span class="op">)</span> <span class="co"># each call of this function gives significant either TRUE</span></span>
<span>                      <span class="co"># or FALSE</span></span>
<span>  <span class="op">}</span></span>
<span><span class="va">power</span> <span class="op">=</span> <span class="fu"><a href="../reference/PowerGrid.html">PowerGrid</a></span><span class="op">(</span>pars <span class="op">=</span> <span class="va">sse_pars</span>,</span>
<span>                  fun <span class="op">=</span> <span class="va">PowFun</span>,</span>
<span>                  more_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pilot_data <span class="op">=</span> <span class="va">pilot_scores</span><span class="op">)</span>, <span class="co"># pass the pilot</span></span>
<span>                                                               <span class="co"># data on to the</span></span>
<span>                                                               <span class="co"># fun argument</span></span>
<span>                  n_iter <span class="op">=</span> <span class="fl">99</span><span class="op">)</span> <span class="co"># we need to iterate over simulated experiemtns</span></span>
<span>                               <span class="co"># to get a power. I would take a higher value</span></span>
<span>                               <span class="co"># than 99; this is to keep the example quick.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">power</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Object of class: power_array</span></span>
<span><span class="co">#&gt; Containing summary over 99 iterations,</span></span>
<span><span class="co">#&gt; summarized by function `mean` (for function</span></span>
<span><span class="co">#&gt; definition, see attribute `summary_function`).</span></span>
<span><span class="co">#&gt;  Range of values: [0.16, 1] </span></span>
<span><span class="co">#&gt;  Evaluated at:</span></span>
<span><span class="co">#&gt;       n 10, 30, 50, 70, 90</span></span>
<span><span class="co">#&gt;   delta 0.5, 0.7, 0.9, 1.1, 1.3, 1.5, 1.7, 1.9</span></span>
<span><span class="fu"><a href="../reference/PowerPlot.html">PowerPlot</a></span><span class="op">(</span><span class="va">power</span><span class="op">)</span></span></code></pre></div>
<p><img src="powergrid_files/figure-html/resample%20MannU-1.png" width="600" style="display: block; margin: auto;"></p>
<p>A couple of notes:</p>
<ul>
<li>The power in the example above is calculated by simulating TRUE’s
and FALSE’s for significance. These were then automatically summarized
by <code>mean</code> to yield the power. You may, however, want to keep
the simulated outcomes of your function. To do so, set
<code>summarize = FALSE</code>. If you choose to keep the individual
iterations, be aware that plotting functions and <code>Example</code>
automatically summarize these taking the mean. You can, however, choose
a different <code>summary_function</code>.</li>
<li>There are a range of graphical options, including the labeling of
axes and lines.</li>
<li>As in PowerPlot, any dimension of the <code>power_array</code> may
be represented by the x-axis, y-axis, and lines.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gilles Dutilh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
